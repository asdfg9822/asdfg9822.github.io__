<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/neon-animation/neon-animatable-behavior.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="../bower_components/neon-animation/neon-shared-element-animatable-behavior.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-up-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-in-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-from-right-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/slide-right-animation.html">

<dom-module id="manap-playbox">
    <template>
        <style>

            app-toolbar {
                position: fixed;
                bottom: 0;
                right: 0;
                width: 100%;
                height: 50px;
                background-color: #ffffff;
                border-top: 1px solid rgba(0,0,0,.15);
            }

            .playbox-icon[pconly] {
                margin-left : 28px;
            }

            :host([hidden]), [hidden] {
                display: none !important;
            }

            @media (max-width: 767px) {

                app-toolbar {
                    /*@apply(--layout-fixed-bottom);*/
                    background-color: #ffffff;
                    height: 50px;
                    z-index: 10;
                }

                paper-icon-button[pconly] {
                    display: none;
                }

                .playbox-icon {
                    margin-left : 28px;
                }
            }

        </style>

        <app-toolbar>
            <paper-icon-button icon="av:skip-previous" class="playbox-icon" pconly></paper-icon-button >
            <paper-icon-button icon="av:play-arrow" class="playbox-icon" on-tap="_togglePlay" hidden$="{{!playing}}" ></paper-icon-button>
            <paper-icon-button icon="av:pause" class="playbox-icon" on-tap="_togglePlay" hidden$="{{playing}}" ></paper-icon-button>
            <paper-icon-button icon="av:skip-next" pconly></paper-icon-button>
            <div style="width: 30px;height: 30px;background-color: red;margin-left: 11px;"></div>
            <div style="vertical-align: middle;margin-left: 11px;line-height: 14px;text-align: left;">
                <div style="font-size: 16px;margin: 0px;padding: 0px;line-height: 20px;">Dream - Tikkit</div>
                <div style="color:#999;font-size: 12px;font-weight: 300;">Dream</div>
            </div>
            <paper-icon-button icon="search"></paper-icon-button>
        </app-toolbar>
    </template>

    <script>

        Polymer({

            is: 'manap-playbox',

            behaviors: [
                Polymer.NeonAnimationRunnerBehavior,
                Polymer.NeonAnimationBehavior,
                Polymer.NeonSharedElementAnimatableBehavior
            ],

            attributeChanged: function (name) {
                if (name === 'hidden') {
                    console.log("ok");
                }
            },

            properties: {
                playing: {
                    type: Boolean,
                    notify: true,
                    value: false
                },

                animationConfig: {
                    type: Object,
                    value: function() {
                        return {
                            name: 'fade-in-animation',
                            node: this
                        }
                    }
                }
            },

            animate: function() {
                this.playAnimation();
            },

            _togglePlay: function() {
                return this.playing = !this.playing;
            }

        });
    </script>
</dom-module>